# VK Photo Uploader

## Описание

**VK Photo Uploader** — это приложение, которое позволяет загружать любые фотографии в ваш альбом "Сохранённые" в VK. Данное решение обходит ограничение VK на добавление своих фотографий в "Сохранённые". Оно поддерживает как ручной ввод путей к файлам, так и автоматическое обнаружение фотографий в текущей директории. Программа также поддерживает использование файла конфигурации (`config.env`) для хранения токена и ID страницы VK, что упрощает частое использование.

## Содержимое репозитория

1. **Исполняемый файл run** (под Unix):
   - Скомпилированное приложение, исходный код которого находится в `./source/main.py`.
2. **Исходный код**:
   - Основной код написан на Python, находится в папке `source`.
3. **Файл конфигурации** (`config.env`):
   - Опциональный файл в корневой папке для локального хранения VK Token и ID страницы VK.
4. **Обнаружение фотографий**:
   - В корневую папку можно добавлять фотографии. Программа автоматически найдет до 5 последних фотографий (сортировка по дате изменения).
5. **Получение токена VK по ID приложения**
   - Python скрипт get_token.py - полуавтоматизированный способ получить token для доступа VK API к вашему альбому "Сохранённые".

## Установка и запуск

1. **Клонирование репозитория**
   ```bash
   git clone https://github.com/Doshqq/VK-SAVED-UPLOADER
   cd VK-SAVED-UPLOADER
   ```

2. **Установка зависимостей**
   Убедитесь, что у вас установлен Python (рекомендуется версия 3.9 или выше).
   В коде задействована API VK 11.9.9.
   ```bash
   pip install -r requirements.txt
   ```
   или
   ```bash
   pip install vk-api==11.9.9
   ```

3. **Настройка файла конфигурации** (опционально)
   Создайте файл `config.env` на примере `example.env` в корневой папке со следующим содержимым:
   ```env
   TOKEN=ваш_vk_token
   OWNER_ID=ваш_vk_id
   ```
   
   Если файла нет, приложение запросит токен и ID страницы при запуске.

4. **Запуск приложения**
   ```bash
   python source/main.py
   ```

## Использование

- **Автоматическое обнаружение фотографий**:
  Программа ищет фотографии в текущей директории с расширениями `.jpg`, `.jpeg`, `.png`, `.heic`. Если такие файлы найдены (до 5 штук), вы можете автоматически загрузить их, выбрав `Y`.

- **Ручной ввод путей**:
  Если фотографии не найдены или вы хотите указать свои, введите пути к файлам через запятую или пробел.

## Получение VK Token и ID страницы

### Получение VK Token
Чтобы вы имели доступ к своим альбомам, вам необходимо использовать токен вашего приложения VK.
Для получения токена выполните следующие шаги:

1. **Создайте приложение VK**:
   - Перейдите в [раздел создания Standalone приложений VK](https://vk.com/away.php?to=https%3A%2F%2Fid.vk.com%2Fbusiness%2Fgo%3Futm_source%3Dvk_editapp%26utm_medium%3Dreferral%26utm_campaign%3Dseo_auth_con_serv).
   - Нажмите "Добавить приложения".
   - Назовите своё приложение и выберите платформу "Web".
   - Для "Базовый домен" и "Доверенный Redirect URL" пропишите `http://localhost` (Ваша локальная сеть).
   - Создайте приложение.

2. **Получите ID приложения**:
   - После создания приложения перейдите в его настройки, где будет указан `ID приложения`.

3. **Получение токена через адресную строку**:
   - Запустите get_token.py и передайте ID вашего приложения.
   - Перейдите по ссылке и нажмите "Разрешить".
   - В адресной строке появится token в виде `access_token=...`. Скопируйте его и сохраните.

   или

   - Скопируйте и вставьте следующий URL в адресную строку браузера, заменив `APP_ID` на ваш ID приложения:
     ```
     https://oauth.vk.com/authorize?client_id=APP_ID&scope=photos,offline&redirect_uri=https://oauth.vk.com/blank.html&display=page&response_type=token
     ```
   - Нажмите "Разрешить".
   - В адресной строке появится токен в виде `access_token=...`. Скопируйте его и сохраните.

   ! Ваш token никуда не передаётся, token с целями photos, offline используется:.
   ! ТОЛЬКО локально на вашем устройстве (открытый исходный код доступен в ./source/main.py).
   ! ТОЛЬКО в официальной библиотеке python [VK-API](https://github.com/python273/vk_api).
   ! ТОЛЬКО для взаимодействия с вашим альбомом "Сохранённые" (цель photos), offline же отвечает за
   ! неограниченное время жизни токена (уберите, если token вам нужен лишь единожды).


### Получение ID страницы VK
1. Перейдите на свою страницу VK.
2. Посмотрите на URL-адрес: `https://vk.com/id123456789`.
3. Число после `id` — это ваш ID страницы.

## Автоматизация получения VK Token
Вы можете использовать следующий код для автоматизации получения токена через VK API:

```python
import webbrowser

def get_vk_token(app_id):
    url = (f"https://oauth.vk.com/authorize?client_id={app_id}&scope=photos,offline&"
           "redirect_uri=https://oauth.vk.com/blank.html&display=page&response_type=token")
    print("Откройте следующую ссылку в браузере и скопируйте токен из адресной строки:")
    print(url)
    webbrowser.open(url)

if __name__ == "__main__":
    app_id = input("Введите ID вашего приложения VK: ")
    get_vk_token(app_id)
```

Сохраните этот код в файл `get_token.py` и запустите его. После ввода ID приложения откроется браузер с необходимой ссылкой.

## Лицензия

Этот проект распространяется под лицензией MIT. Смотрите файл [LICENSE](LICENSE) для подробностей.

